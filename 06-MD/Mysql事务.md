# Mysql事务

## 事务ACID属性

![1584678016313](SpringCloud.assets\1584678016313.png)

假设先要是a b两个操作都开启事务，并且都要去操作同一张表

## 1、脏读（主要针对修改数据）

- 脏读：

  **a修改了表的一条数据**，但是**没有提交**，此时**b去读取表**中数据，**读到了a修改的那一条数据**，读到的这一条数据就是脏数据。

## 2、不可重复读

- 不可重复读：

  **a修改了表的一条数据**，但是**没有提交**，此时**b去读取表**中数据，**读到了a修改的那一条数据(发生了脏读)**，之后，**a回滚了**，**b再去读取数据，此时又变成原始数据了**，此时b两次数据读的不一样，这就是不可重复读。

## 3、幻读（主要针对插入数据）

- 幻读：**a先查看了表中有5条记录**，然后**打算同时修改5条**记录，此时**b向表中插入了2条数据**，**并提交**了。当**a执行完修改**语句后，**发现是修改了7条数据**，多了2条，这就是幻读

## 4、事务隔离级别

解决多个事务同时一个数据时候，出现的脏读、不可重复读、幻读现象

![1584677884767](SpringCloud.assets\1584677884767.png)

![1584760515544](SpringCloud.assets\1584760515544.png)

- Mysql5.5之后，使用的是Innodb存储引擎，支持事务，支持隔离级别为RR，解决了脏读和不可重复度。